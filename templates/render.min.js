getMenuBar=function(e){var t=e.all_prefixes;var n=$('<nav id="topNavBar" class="navbar navbar-primary" role="navigation">');var r=$('<div class="container-fluid">');n.append(r);var i=$('<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">');r.append(i);var s=$('<ul class="nav navbar-nav">');i.append(s);for(var o=0;o<t.length;o++){addDropDownList(s,t[o],e[t[o]])}return n};addDropDownList=function(e,t,n){var r=$('<li class="dropdown">');linkTittle=$('<a href="#" class="dropdown-toggle" data-toggle="dropdown">').text(t);linkTittle.append($('<b class="caret">'));r.append(linkTittle);e.append(r);var i=$('<ul class="dropdown-menu">');r.append(i);for(var s=0;s<n.length;s++){var o=n[s];var u=$("<a>").text(o).attr("href","#"+o);var a=$("<li>").append(u);u.click(function(e){e.preventDefault();var t=$(this).attr("href");$("#myTab a[href="+t+"]").tab("show")});i.append(a);a=null}};add_qa_link_to_row=function(e,t,n){var r=$("<td></td>");var i="http://cmssdt.cern.ch/SDT/cgi-bin//newQA.py?arch="+t+"&release="+n;var s=$("<a></a>").attr("href",i);var o=$("<span></span>");s.append(o);o.attr("class","glyphicon glyphicon-search");r.append(s);e.append(r)};get_tests_url=function(e,t){var n=t.split("/");var r="";if(e=="utests"||e=="builds"){r="https://cmssdt.cern.ch/SDT/cgi-bin/showBuildLogs.py/"+n[6]+"/"+n[7]+"/"+n[8]+"/"+n[9]+"/"+n[10]}else if(e=="relvals"){r="https://cmssdt.cern.ch/SDT/cgi-bin//showMatrixTestLogs.py/"+n[6]+"/"+n[7]+"/"+n[8]+"/"+n[9]+"/"+n[10]+"/"+n[11]+"/"+n[12]}else if(e=="addons"){r="https://cmssdt.cern.ch/SDT/cgi-bin//showAddOnLogs.py/"+n[6]+"/"+n[7]+"/"+n[8]+"/"+n[9]+"/"+n[10]+"/"+"addOnTests"+"/"}return r};get_result_tests=function(e,t){for(var n=0;n<t.length;n++){if(t[n].arch==e){return t[n]}}};add_tests_to_row=function(e,t,n,r){console.log("adding tests");if(e.length==0){var i=$("<td></td>");t.append(i);return}var s=null;var o=null;var i=$("<td></td>");var u=get_result_tests(n,e);if(u!=null){s=u.passed;o=u.file}if(s==null||o==null){var i=$("<td></td>");t.append(i);return}var a=$("<span></span>");a.append($("<small></small>").text("See Details"));var f="";if(r=="utests"){if(s=="passed"){f="label label-success"}else if(s=="failed"){f="label label-danger"}else{f="label label-default"}}else if(r=="builds"){if(s=="passed"){f="label label-success"}else if(s=="warning"){f="label label-warning"}else{f="label label-danger"}}else{f=s?"label label-success":"label label-danger"}a.attr("class",f);var l=o.split("/");var c=get_tests_url(r,o);var h=$("<a></a>").attr("href",c);h.append(a);i.append(h);t.append(i)};add_static_analyzer_link=function(e,t){if(t!=""){var n=$("<a></a>").attr("href",t);n.append($('<span class="glyphicon glyphicon-eye-open"></span>'));n.append($("<span></span>").text(" Static Analyzer"));e.append(n)}};add_hlt_tests_link=function(e,t){if(t!=""){var n=$("<a></a>").attr("href",t);n.append($('<span class="glyphicon glyphicon-list-alt"></span>'));n.append($("<span></span>").text(" HLT Validation"));e.append(n)}};write_comp_title=function(e,t){var n=e.compared_tags.split("-->")[1];var r=$("<h3><b></b></h3>").text(n);r.append($("<br>"));r.append($("<br>"));var i=$('<table class="table table-condensed"></table>');var s=$("<td></td>").append(r);add_static_analyzer_link(s,e.static_checks);s.append($("<br>"));add_hlt_tests_link(s,e.hlt_tests);var o=$("<tr></tr>");var u=e.relvals;var a=e.utests;var f=e.addons;var l=e.tests_archs;var c=e.builds;s.attr("rowspan",l.length+1);console.log(l);o.append(s);i.append(o);if(l.length!=0){var h=$("<th></th>").text("Architectures");o.append(h);var p=$("<th></th>").text("Builds");o.append(p);var d=$("<th></th>").text("Unit Tests");o.append(d);var v=$("<th></th>").text("RelVals");o.append(v);var m=$("<th></th>").text("Other Tests");o.append(m);var g=$("<th></th>").text("Q/A");o.append(g);for(var y=0;y<l.length;y++){var b=$("<tr></tr>");var w=$("<td></td>");w.text(l[y]);b.append(w);add_tests_to_row(c,b,l[y],"builds");add_tests_to_row(a,b,l[y],"utests");add_tests_to_row(u,b,l[y],"relvals");add_tests_to_row(f,b,l[y],"addons");add_qa_link_to_row(b,l[y],n);i.append(b)}}t.append(i)};write_pr=function(e,t,n){var r=$("<li>");var i="#".concat(e.number);var s=" from ".concat(e.author_login,": ",e.title);var o=e.url;var u=$("<a>").attr("href",o);u.append($("<span>").text(i));r.append(u);if(e.from_merge_commit){var a="https://github.com/cms-sw/cmssw/compare/"+n+"..."+e.hash;var f=$("<a>").attr("href",a);var l=$('<span class="glyphicon glyphicon-transfer">');f.append(l);r.append(f)}r.append($("<span>").text(s));t.append(r)};writeComparisonLinkGithub=function(e,t){var n=e.split("-->")[0];var r=e.replace("-->","...");r="https://github.com/cms-sw/cmssw/compare/".concat(r);var i=$("<a>").attr("href",r);i.append($("<span>").text("See comparison with "+n+" on GitHub"));var s=$("<small>").append(i);t.append(s);t.append($("<br>"));t.append($("<br>"))};write_comparison=function(e,t){var n=e.compared_tags;write_comp_title(e,t);var r=e.merged_prs;var i=n.split("-->")[0];if(e.merged_prs.length!=0){writeComparisonLinkGithub(n,t);var s=$("<ul>");for(var o=0;o<r.length;o++){write_pr(r[o],s,i)}t.append(s)}else{var u=$("<ul>").append($("<li>").text("No new pull requests since "+i));t.append(u)}t.append($("<br>"))};paintComparisons=function(e){console.log("Loaded!");var t=$("#"+e.release_name);var n=e.comparisons;for(var r=n.length-1;r>=0;r--){write_comparison(n[r],t)}hideProgressBar(e.release_name)}
